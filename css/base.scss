#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: #fff;
}

:root {
  --suit-red: #c00;
  --suit-black: #111;
  --suit-blue: #0040ff;
  --suit-green: #0c0;
  --text-color: #efefdd;
  --card-background: #efefdd;
}

.v-theme--light.v-theme--light {
  --v-theme-background: 23, 23, 23;
  --v-theme-background-overlay-multiplier: 1;
  --v-theme-surface: 255, 255, 255;
  --v-theme-surface-overlay-multiplier: 1;
  --v-theme-primary: 3, 218, 198;
  --v-theme-primary-overlay-multiplier: 1;
  --v-theme-primary-darken-1: 1, 135, 134;
  --v-theme-primary-darken-1-overlay-multiplier: 1;
  --v-theme-secondary: 98, 0, 238;
  --v-theme-secondary-overlay-multiplier: 2;
  --v-theme-secondary-darken-1: 55, 0, 179;
  --v-theme-secondary-darken-1-overlay-multiplier: 2;
  --v-theme-error: 176, 0, 32;
  --v-theme-error-overlay-multiplier: 2;
  --v-theme-info: 33, 150, 243;
  --v-theme-info-overlay-multiplier: 1;
  --v-theme-success: 76, 175, 80;
  --v-theme-success-overlay-multiplier: 1;
  --v-theme-warning: 251, 140, 0;
  --v-theme-warning-overlay-multiplier: 1;
  --v-theme-on-background: 0, 0, 0;
  --v-theme-on-surface: 0, 0, 0;
  --v-theme-on-primary: 255, 255, 255;
  --v-theme-on-primary-darken-1: 255, 255, 255;
  --v-theme-on-secondary: 0, 0, 0;
  --v-theme-on-secondary-darken-1: 0, 0, 0;
  --v-theme-on-error: 255, 255, 255;
  --v-theme-on-info: 0, 0, 0;
  --v-theme-on-success: 0, 0, 0;
  --v-theme-on-warning: 0, 0, 0;
  --v-border-color: 0, 0, 0;
  --v-border-opacity: 0.12;
  --v-high-emphasis-opacity: 0.87;
  --v-medium-emphasis-opacity: 0.6;
  --v-disabled-opacity: 0.38;
  --v-kbd-background-color: 33, 37, 41;
  --v-kbd-color: 255, 255, 255;
  --v-code-background-color: 194, 194, 194;
}

* {
  color: var(--text-color)
}

.black .card-face {
  fill: var(--suit-black);
  stroke: var(--suit-black);
}

.red .card-face {
  fill: var(--suit-red);
  stroke: var(--suit-red);
}

.blue .card-face {
  fill: var(--suit-blue);
  stroke: var(--suit-blue);
}

.green .card-face {
  fill: var(--suit-green);
  stroke: var(--suit-green);
}

$cardHeight: 35 * 5px;
$cardWidth: 25 * 5px;

.card {
  margin: 4px;
  display: inline-block;
  position: relative;
  filter: drop-shadow(6px 3px 6px #000b);
  height: $cardHeight;
  width: $cardWidth;

  transform-style: preserve-3d;
  perspective: 500px;
  &.face-down .card-face {
    backface-visibility: hidden;
    transform: rotateY(180deg);
  }

  &.face-down .card-back {
    transform: rotateY(360deg);
  }
}

.card-face, .card-back {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 4px;
}

.card-face {
  background: var(--card-background);
  fill: var(--suit-black);
  stroke: var(--suit-black);
}

.card-back {
  backface-visibility: hidden;
  border: solid 4px var(--card-background);
  background: rgba(var(--v-theme-secondary));
  transform: rotateY(180deg);
}

.animate-cards {
  & .card, & .card-face, & .card-back {
    transition: ease-out transform 222ms;
  }
}

@mixin fan($count, $angle) {
  $offset: -$angle / 2;
  @for $i from 1 through $count {
    $increment: $angle / ($count + 1);
    .card:nth-child(#{$i}) {
      transform: translate(-50%, -50%) rotate($offset + $increment * $i);
    }
  }
}

@mixin allTheFans($counts, $angle) {
  $offset: -$angle / 2;
  @for $count from 1 through $counts {
    .card:first-child:nth-last-child(#{$count}),
    .card:first-child:nth-last-child(#{$count}) ~ .card {
      @for $i from 1 through $count {
        $increment: $angle / ($count + 1);
        &:nth-child(#{$i}) {
          transform: translate(-50%, 6%) rotate($offset + $increment * $i);
        }
      }
    }
  }
}

.fan {
  width: $cardHeight * 2.2;
  height: $cardHeight * 1.4;
  position: relative;
  display: inline-block;
  text-align: center;
  @include allTheFans(16, 90deg);

  .card {
    position: absolute;
    transform-origin: 50% 125%;
  }
}